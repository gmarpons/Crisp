# -*- Python -*-

import os

config.name = 'Crisp'
config.suffixes = ['.c', '.cpp']
config.test_format = lit.formats.ShTest()
#config.environment
config.unsupported = False
config.on_clone = None
config.test_exec_root = os.path.dirname(__file__)
config.test_source_root = os.path.dirname(__file__)
config.excludes = []
config.target_triple = '-vg'

config.available_features = []
config.available_features.append('asserts')
config.available_features.append('crash-recovery')

config.substitutions = []
config.substitutions.append( ('%crisp_clang_cc1', '%s -cc1 -fsyntax-only -load %s/lib/CrispClangPlugin/libcrispclang.so -plugin crisp-clang -plugin-arg-crisp-clang -crisp-boot-dir=%s/prolog' % (config.clang_bin, config.crisp_obj_root, config.crisp_obj_root) ) )
